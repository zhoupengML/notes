
* 空间域图像增强

** 微分定义

*** 一元函数

    1. 一阶微分
       
       $\frac{\partial{f}}{\partial{x}}=f(x+1)-f(x)$

    2. 二阶微分
       
       $\frac{\partial^2{f}}{\partial{x^2}}=f(x+1)+f(x-1)-2f(x)$

    
** 锐化空间滤波器

*** 一阶微分与二阶微分比较

    1. 一阶微分通常会产生较宽的边缘
    2. 二阶微分处理对细节有较强的响应,如细线和孤立点
    3. 一阶微分处理一般对灰度阶梯有较强的响应
    4. 二阶微分处理对灰度阶梯变化产生双响应
    5. 二阶微分在图像中灰度值变化相似时,对线的响应要比对阶梯强,且点比线响应强

       [[./picture/dip3.38.png]]
       
    - 大多数应用中,对图像增强来说,二阶微分处理比一阶微分好一些,因为形成增强细节的能力好一些.

*** 拉普拉斯算子(基于二阶微分的图像增强)

****    1. 定义[2p100]:
       最简单的各向同性微分算子是拉普拉斯算子,一个二元图像函数 $f(x,y)$ 的拉普拉斯变换定义为:
       $\nabla^2f=\frac{\partial^2f}{\partial{}x^2}+\frac{\partial^2f}{\partial{}y^2}$
       因为任意阶微分都是线性操作,所以拉普拉斯变换也是一个线性操作.

****    2. 对数字图像

       * 在 $x$ 方向上:
	 $\frac{\partial^2f}{\partial{}x^2}=f(x+1,y)+f(x-1,y)-2f(x,y)$

       * 在 $y$ 方向上:
	 $\frac{\partial^2f}{\partial{}y^2}=f(x,y+1)+f(x,y-1)-2f(x,y)$

       * 二位拉普拉斯数字实现
	 $\nabla^2f=f(x+1,y)+f(x-1,y)+f(x,y+1)+f(x,y-1)-4f(x,y)$

****    3. 滤波器掩码
              
       [[./picture/dip3.39.jpg]]
       - 对角线方向也可以加入到离散拉普拉斯变换的定义中
       - 经包含有对角分量的掩码进行处理得到的结果一般比用基本掩码处理得到的结果更加锐化

****    4. 拉普拉斯是一种微分算子,它的应用强调图像中灰度的突变以及降低灰度变化慢的区域.
       将原始图像和拉普拉斯图像叠加在一起,可以保护拉普拉斯锐化处理的效果,同时又能复原
       背景信息.
       
       \begin{eqnarray}
       g(x,y)=
       \begin{cases}
       f(x,y)-\nabla^2f(x,y)\ \ if\ the\ parameter\ in\ the\ center\ is\ negative\\
       f(x,y)+\nabla^2f(x,y)\ \ if\ the\ parameter\ in\ the\ center\ is\ positive
       \end{cases}
       \end{eqnarray}

****    5. 简化
       
       * 实际应用中,采用单一掩码的一次扫描来实现:
	 
         \begin{eqnarray}
         g(x,y)&=&f(x,y)-\nabla^2f\\
         &=&5f(x,y)-[f(x+1,y)+f(x-1,y)+f(x,y+1)+f(x,y-1)]
         \end{eqnarray}
  
       * Mask

         |----+----+----|  
         |  0 | -1 |  0 |
         |----+----+----|
         | -1 |  5 | -1 |
         |----+----+----|
         |  0 | -1 |  0 |
         |----+----+----|
    
         |----+----+----|
         | -1 | -1 | -1 |
         |----+----+----|
         | -1 |  9 | -1 |
         |----+----+----|
         | -1 | -1 | -1 |
         |----+----+----|

       * 由于拉普拉斯变换是线性算子,可以将简化掩码矩阵看做单位中心掩码矩阵减去拉普拉斯掩码矩阵



